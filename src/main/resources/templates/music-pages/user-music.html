<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–∞—à–∞ –º—É–∑—ã–∫–∞ - Music App</title>
    <style>
        body {
            background-color: black;
            color: #00BFFF; /* –ì–æ–ª—É–±–æ–π —Ü–≤–µ—Ç */
            font-family: 'Helvetica Neue', 'Arial', sans-serif;
            margin: 0;
            display: flex;
            height: 100vh;
        }
        .sidebar {
            width: 250px;
            background-color: #1c1c1c;
            padding: 20px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
        }
        .sidebar h2 {
            margin: 0;
            margin-bottom: 15px;
            cursor: pointer;
        }
        .music-center {
            flex-grow: 1;
            padding: 20px;
            background-color: #2c2c2c;
            color: white;
            box-sizing: border-box;
            display: flex;
            flex-direction: column; /* –ò–∑–º–µ–Ω–µ–Ω–æ –Ω–∞ column –¥–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è */
        }
        .music-list {
            list-style: none;
            padding: 0;
            margin-top: 10px; /* –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –¥–ª—è —Å–ø–∏—Å–∫–∞ */
        }
        .music-list li {
            margin-bottom: 10px;
            cursor: pointer; /* –£–∫–∞–∑–∞—Ç–µ–ª—å –∫—É—Ä—Å–æ—Ä–∞ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–∞ */
        }
        .search-form {
            display: flex; /* –ò—Å–ø–æ–ª—å–∑—É–µ–º flex –¥–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è */
            margin-bottom: 10px; /* –û—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É –¥–ª—è —Ñ–æ—Ä–º—ã –ø–æ–∏—Å–∫–∞ */
        }
        .search-input {
            flex-grow: 1; /* –ó–∞–Ω—è—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ */
            padding: 10px;
            border: 1px solid #00BFFF;
            border-radius: 5px 0 0 5px; /* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Å –ª–µ–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã */
            background-color: #1c1c1c;
            color: white;
        }
        .search-input::placeholder {
            color: #00BFFF; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –≤ placeholder */
        }
        .search-button {
            padding: 10px; /* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ padding */
            border: 1px solid #00BFFF;
            border-left: none; /* –£–±—Ä–∞—Ç—å –ª–µ–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É */
            border-radius: 0 5px 5px 0; /* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Å –ø—Ä–∞–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã */
            background-color: #00BFFF;
            color: white;
            cursor: pointer;
            display: flex; /* –ò—Å–ø–æ–ª—å–∑—É–µ–º flex –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ */
            align-items: center; /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ */
            justify-content: center; /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ */
        }
        .search-button:hover {
            background-color: #008CBA;
        }
        #audioControls {
            display: flex; /* –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ flex –¥–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è */
            margin-left: 0; /* –£–±—Ä–∞–ª–∏ –æ—Ç—Å—Ç—É–ø –º–µ–∂–¥—É –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
            align-items: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ */
        }
        .controls span {
            margin-left: 5px; /* –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–π –æ—Ç—Å—Ç—É–ø –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏ */
            cursor: pointer;
        }
    </style>
</head>
<body>

<div class="sidebar">
    <h2 onclick="location.href='/general'">–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</h2>
</div>

<div class="music-center">
    <!-- –§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ -->
    <form action="/search-audio" method="GET" class="search-form">
        <input type="text" name="query" class="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–µ—Å–µ–Ω...">
        <button type="submit" class="search-button">–ü–æ–∏—Å–∫</button>
    </form>

    <h2 style="display: flex; align-items: center; margin-bottom: 5px;">
        –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫–æ–≤
        <div class="controls" id="audioControls" style="display: none;">
            <span class="play-pause" id="playPauseButton">‚ñ∂</span>
            <span class="restart" id="restartButton">üîÑ</span>
        </div>
    </h2>
    <ul class="music-list">
        <li th:each="audio : ${listOfAudio}">
        <span th:text="${audio.name}"
              th:onclick="'playTrack(\'/audio/stream/' + ${audio.id} + '\')'"
              style="cursor: pointer;"></span>
        </li>
    </ul>
    <div th:if="${#lists.isEmpty(listOfAudio)}">
        <p>–£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –Ω–∏ –æ–¥–Ω–æ–≥–æ —Ç—Ä–µ–∫–∞</p>
    </div>
    <audio id="audioPlayer" controls style="display: none;"></audio>
</div>

<script>
    const audioPlayer = document.getElementById('audioPlayer');
    const playPauseButton = document.getElementById('playPauseButton');
    const restartButton = document.getElementById('restartButton');
    const audioControls = document.getElementById('audioControls');

    function playTrack(audioUrl) {
        audioPlayer.src = audioUrl; // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∞—É–¥–∏–æ
        audioControls.style.display = 'flex'; // –ü–æ–∫–∞–∑–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        audioPlayer.play(); // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º —Ç—Ä–µ–∫
        playPauseButton.textContent = '‚ùö‚ùö'; // –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É
    }

    playPauseButton.addEventListener('click', () => {
        if (audioPlayer.paused) {
            audioPlayer.play();
            playPauseButton.textContent = '‚ùö‚ùö'; // –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É
        } else {
            audioPlayer.pause();
            playPauseButton.textContent = '‚ñ∂'; // –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
        }
    });

    restartButton.addEventListener('click', () => {
        audioPlayer.currentTime = 0; // –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç—Ä–µ–∫
        audioPlayer.play(); // –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
        playPauseButton.textContent = '‚ùö‚ùö'; // –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É
    });
</script>

</body>
</html>
